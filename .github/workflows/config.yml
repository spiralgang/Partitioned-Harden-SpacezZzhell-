name: RepoConfig

on:
  push:
    branches:
      - main
      - release/*
  pull_request:
    branches:
      - main
  workflow_dispatch:

jobs:
  setup-config:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Create Gemini Config Directory
        run: |
          mkdir -p .gemini
          
      - name: Create Gemini Config
        run: |
          cat > .gemini/config.yaml << EOF
schema: "http://json-schema.org/draft-07/schema#"
title: REAVER SpacezZzhell- Dominion
type: object
properties:
  have_fun: true
  ignore_patterns: ["*.log", "temp/*", "hahaha_placeholders/*"]
  code_review:
    type: object
    properties:
      disable: false
      comment_severity_threshold: CRITICAL
      max_review_comments: 50
      pull_request_opened:
        summary: true
        code_review: true
        help: true
EOF
          
      - name: Create Style Guide
        run: |
          cat > .gemini/styleguide.md << EOF
# REAVER Codex for Partitioned-Harden-SpacezZzhell-
- Neon names for mind-blowing partitions (e.g., spacezReaverPartition, hardenMindBlaster).
- Log every wild hack with # REAVER-BLOOD: commentsâ€”expose the laughter in the code.
- Cap lines at 120 chars for dystopian sprawl.
- Crush any minimal structures; enforce recursive partitioning with neonCluster loops.
- Review every file: Even if bare, Gemini shreds placeholders and builds out hidden layouts.
EOF